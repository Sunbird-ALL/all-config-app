"use strict";(self.webpackChunkcontent_service_ui=self.webpackChunkcontent_service_ui||[]).push([[522],{6522:(K,m,a)=>{a.r(m),a.d(m,{TargetModule:()=>G});var p=a(6814),g=a(9310),s=a(95),C=a(8783),t=a(4946),L=a(7351),c=a(5219),d=a(707),l=a(6361),u=a(3714),h=a(4480),f=a(3965),F=a(9445),v=a(7680);function A(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",12)(1,"form",13)(2,"div",14)(3,"label",15),t._uU(4," User ID "),t.TgZ(5,"span",16),t._uU(6,"*"),t.qZA()(),t._UZ(7,"input",17),t.qZA(),t.TgZ(8,"div",14)(9,"label",15),t._uU(10," Language "),t.TgZ(11,"span",16),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"p-dropdown",18),t.NdJ("onChange",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onChangeLanguage())}),t.qZA()()()(),t.TgZ(14,"div",19)(15,"button",20),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.searchTarget())}),t.qZA(),t.TgZ(16,"button",21),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(),Z=t.MAs(7);return t.KtG(n.clear(Z))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.targetForm),t.xp6(12),t.Q6J("showClear",!0)("options",i.languageList),t.xp6(2),t.s9C("label","Search")}}function D(e,o){1&e&&(t.TgZ(0,"tr")(1,"th",22)(2,"div",23),t._uU(3," Serial No. "),t.qZA()(),t.TgZ(4,"th",24)(5,"div",23),t._uU(6," Character "),t._UZ(7,"p-columnFilter",25),t.qZA()(),t.TgZ(8,"th",24)(9,"div",23),t._uU(10," Score "),t._UZ(11,"p-columnFilter",26),t.qZA()()())}function U(e,o){if(1&e&&(t.TgZ(0,"tr",27)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&e){const i=o.$implicit,r=o.rowIndex,n=t.oxw();t.Q6J("pEditableRow",n.tutorial),t.xp6(2),t.hij(" ",r+1," "),t.xp6(2),t.hij(" ",i.character," "),t.xp6(2),t.hij(" ",i.score," ")}}function M(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td",28),t._uU(2),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.hij(" ",i.noDataFound,"")}}function b(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td",28),t._uU(2),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.hij(" ",i.loadingData," ")}}function J(e,o){1&e&&(t.TgZ(0,"div",29)(1,"div",30),t._UZ(2,"p-progressSpinner"),t.qZA()())}const N=function(){return[10,100,200,300]},S=function(){return["name","country.name","representative.name","status"]};let I=(()=>{class e{constructor(i,r,n){this.formBuilder=i,this.contentService=r,this.route=n,this.messages=[],this.targetList=[],this.loading=!1,this.languageList=C.X.languages}ngOnInit(){this.route.paramMap.subscribe(i=>{this.type=i.get("type"),this.loadData()}),this.initializeAddForm()}loadData(){(this.targetList?.length>0||this.targetForm?.invalid)&&(this.targetForm.reset(),this.targetList=[]),"target"===this.type?(this.listType="Target List",this.loadingData=" Loading Target ... Please wait.",this.noDataFound="No Target found"):"familarity"===this.type&&(this.listType="Familarity List",this.loadingData=" Loading Familarity ... Please wait.",this.noDataFound="No Familarity found")}initializeAddForm(){this.targetForm=this.formBuilder.group({userID:["",s.kI.required],language:["",s.kI.required]})}searchTarget(){if(this.targetForm.invalid)return this.messages=[{severity:"error",summary:"Add Required Data"}],void setTimeout(()=>{this.messages=[]},2e3);const i=this.targetForm.value.userID,r=this.targetForm.value.language;this.loading=!0,"target"===this.type?this.contentService.searchTarget(i,r).subscribe({next:n=>{this.targetList=n,this.loading=!1,0===n.length&&(this.messages=[{severity:"error",summary:"No Data Found"}],setTimeout(()=>{this.messages=[]},2e3))},error:n=>{this.loading=!1,this.messages=[{severity:"error",summary:"error"}]}}):"familarity"===this.type&&this.contentService.searchFamiliarty(i,r).subscribe({next:n=>{this.targetList=n,this.loading=!1,0===n.length&&(this.messages=[{severity:"error",summary:"No Data Found"}],setTimeout(()=>{this.messages=[]},2e3))},error:n=>{this.loading=!1,this.messages=[{severity:"error",summary:"error"}]}})}onChangeLanguage(){this.targetList=[]}clear(i){this.onChangeLanguage(),this.targetForm.reset(),i.clear()}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(s.qu),t.Y36(L._),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-target-list"]],decls:14,vars:14,consts:[[1,"grid"],[1,"col-12"],[3,"value","enableService","closable","valueChange"],[1,"card"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","rowsPerPageOptions","loading","rowHover","paginator","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["class","loading-overlay",4,"ngIf"],[1,"filter-container"],[1,"filter-fields",3,"formGroup"],[1,"filter-item"],[2,"margin-left","5px"],[1,"required"],["autofocus","","formControlName","userID","id","userId","type","text","pInputText","","placeholder","Enter User ID"],["formControlName","language","optionLabel","label","autofocus","","placeholder","Select Language","optionValue","value",3,"showClear","options","onChange"],[1,"button-container"],["pButton","","pRipple","","icon","pi pi-search",1,"p-button-success","mr-2",3,"label","click"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],["id","",2,"width","100px"],[1,"flex","justify-content-between","align-items-center"],["id","",2,"min-width","12rem"],["type","text","field","character","display","menu","matchMode","contains","placeholder","Search"],["type","text","field","score","display","menu","matchMode","contains","placeholder","Search"],[3,"pEditableRow"],["colspan","8"],[1,"loading-overlay"],[1,"spinner-message-container"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p-messages",2),t.NdJ("valueChange",function(Q){return n.messages=Q}),t.qZA(),t.TgZ(3,"div",3)(4,"h5"),t._uU(5),t.qZA(),t.TgZ(6,"p-table",4,5),t.YNc(8,A,17,4,"ng-template",6),t.YNc(9,D,12,0,"ng-template",7),t.YNc(10,U,7,4,"ng-template",8),t.YNc(11,M,3,1,"ng-template",9),t.YNc(12,b,3,1,"ng-template",10),t.qZA()()(),t.YNc(13,J,3,0,"div",11),t.qZA()),2&r&&(t.xp6(2),t.Q6J("value",n.messages)("enableService",!1)("closable",!0),t.xp6(3),t.hij(" ",n.listType,""),t.xp6(1),t.Q6J("value",n.targetList)("rows",10)("rowsPerPageOptions",t.DdM(12,N))("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",t.DdM(13,S)),t.xp6(7),t.Q6J("ngIf",n.loading))},dependencies:[p.O5,c.jx,d.Hq,s._Y,s.Fj,s.JJ,s.JL,l.iA,l.D$,l.xl,u.o,h.H,f.Lt,s.sg,s.u,F.V,v.G],styles:[".filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.filter-fields[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:nowrap}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}@media (max-width: 768px){.filter-fields[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.button-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}.required[_ngcontent-%COMP%]{color:red;margin-right:10px;margin-bottom:10px}"]})}return e})(),j=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[g.Bz.forChild([{path:"",component:I}]),g.Bz]})}return e})();var O=a(3904),T=a(1312),y=a(7161),x=a(5118),P=a(2610),Y=a(4055),w=a(6651),B=a(6022),H=a(7902),z=a(4104),E=a(6804);let G=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({providers:[x.xA,x.E7,c.ez],imports:[p.ez,j,T.S,O.D,y.O,s.u5,l.U$,B.Xt,d.hJ,H.JH,u.j,E.KZ,h.T,Y.q4,f.kW,w.q,z.EV,T.S,y.O,s.UX,P.O,v.L]})}return e})()}}]);